<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mateus - Portfolio for Projects</title>
    <link rel="icon" type="image/png" href="./assets/logo/logo_pi.png">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/lipis/flag-icons@7.2.3/css/flag-icons.min.css">

    <style>
        :root {
            --bg-body: #f4f4f9; --bg-chat: #ffffff; --bg-sidebar: #e9ecef;
            --text-color: #333333; --bot-msg-bg: #e9ecef; --header-color: #005a8a;
        }
        body.dark-mode {
            --bg-body: #0f172a; --bg-chat: #1e293b; --bg-sidebar: #0a0f1a;
            --text-color: #f1f5f9; --bot-msg-bg: #334155; --header-color: #074a6e;
        }

        body { font-family: 'Inter', sans-serif; background-color: var(--bg-body); color: var(--text-color); height: 100vh; margin: 0; overflow: hidden; display: flex; transition: all 0.3s ease; }

        /* HEADER */
        .chat-header { background: var(--header-color); color: white; padding: 12px 25px; display: flex; align-items: center; justify-content: space-between; box-shadow: 0 2px 10px rgba(0,0,0,0.1); z-index: 100; }
        .header-left, .header-right { display: flex; align-items: center; gap: 15px; } /* Aumentei o gap para a logo respirar */
        .menu-btn, .header-icon-btn { background: rgba(255,255,255,0.1); border: none; color: white; padding: 8px 15px; border-radius: 20px; cursor: pointer; display: flex; align-items: center; gap: 8px; font-size: 0.9rem; }

        /* CONFIGURAÇÃO DA LOGO */
        .logo-wrapper {
            width: 38px;
            height: 38px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            perspective: 1000px;
        }

        #main-logo {
            width: 100%;
            height: 100%;
            object-fit: contain;
            transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        /* Efeito de cor */
        body:not(.dark-mode) #main-logo {
            filter: brightness(0) invert(1);
            opacity(0.9);
        }

        /* Animação ao passar o mouse */
        .logo-wrapper:hover #main-logo {
            transform: scale(1.15) rotate(12deg);
        }

        /* LAYOUT & SIDEBAR */
        .layout-wrapper { display: flex; width: 100%; height: calc(100vh - 58px); }
        .sidebar { width: 320px; background: var(--bg-sidebar); transition: 0.4s; padding: 20px; box-sizing: border-box; border-right: 1px solid rgba(0,0,0,0.05); overflow-y: auto; }
        .sidebar.collapsed { width: 0; padding: 0; opacity: 0; pointer-events: none; }

        .project-card { background: var(--bg-chat); border-radius: 16px; padding: 15px; margin-bottom: 12px; cursor: pointer; transition: 0.3s; display: flex; align-items: center; gap: 12px; border: 1px solid rgba(0,0,0,0.05); }
        .project-card:hover { transform: translateY(-3px); background: var(--header-color); color: white; }
        .project-thumb-mini { width: 45px; height: 45px; background: var(--bot-msg-bg); border-radius: 10px; display: flex; align-items: center; justify-content: center; font-size: 1.2rem; }

        /* CHAT */
        .chat-container { flex: 1; background: var(--bg-chat); display: flex; flex-direction: column; position: relative; }
        .chat-box { flex: 1; padding: 30px; overflow-y: auto; display: flex; flex-direction: column; gap: 15px; }
        .message { padding: 14px 18px; border-radius: 18px; max-width: 70%; line-height: 1.5; animation: fadeIn 0.3s ease; }
        .bot-msg { background: var(--bot-msg-bg); align-self: flex-start; border-bottom-left-radius: 4px; }
        .user-msg { background: var(--header-color); color: white; align-self: flex-end; border-bottom-right-radius: 4px; }
        .options { padding: 20px; display: flex; gap: 10px; justify-content: center; border-top: 1px solid rgba(0,0,0,0.05); }

        /* MODALS */
        .modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); backdrop-filter: blur(8px); display: none; justify-content: center; align-items: center; z-index: 3000; }
        .modal-content { background: var(--bg-chat); padding: 30px; border-radius: 24px; width: 90%; max-width: 750px; position: relative; box-shadow: 0 25px 50px rgba(0,0,0,0.5); max-height: 85vh; overflow-y: auto; }
        .close-modal { position: absolute; top: 15px; right: 15px; border: none; background: var(--bot-msg-bg); color: var(--text-color); width: 32px; height: 32px; border-radius: 50%; cursor: pointer; display: flex; align-items: center; justify-content: center; }

        /* PROJECT CANVAS GRID */
        .project-grid { display: flex; gap: 30px; }
        .project-left { flex: 1; }
        .project-right { flex: 1.2; }
        .miniature-display { width: 100%; height: 220px; background: var(--bot-msg-bg); border-radius: 15px; overflow: hidden; display: flex; align-items: center; justify-content: center; border: 1px solid rgba(128,128,128,0.2); }
        .miniature-display img, .miniature-display video { width: 100%; height: 100%; object-fit: cover; }

        /* CONTACT LIST */
        .list-item { display: flex; align-items: center; gap: 15px; padding: 12px; border-radius: 15px; background: var(--bot-msg-bg); text-decoration: none; color: var(--text-color); margin-bottom: 10px; transition: 0.2s; border: 1px solid rgba(128,128,128,0.05); }
        .list-item:hover { background: var(--header-color); color: white; transform: translateY(-2px); }
        .list-item i { font-size: 1.2rem; width: 20px; text-align: center; }

        .opt-btn { background: transparent; border: 1.5px solid var(--header-color); color: var(--header-color); padding: 8px 20px; border-radius: 20px; cursor: pointer; font-weight: 500; font-size: 0.85rem; text-decoration: none; display: inline-flex; align-items: center; gap: 8px; }
        .opt-btn:hover { background: var(--header-color); color: white; }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body class="dark-mode">

<div id="contact-modal" class="modal-overlay">
    <div class="modal-content" style="max-width: 450px;">
        <button class="close-modal" onclick="closeAllModals()"><i class="fa-solid fa-xmark"></i></button>
        <h3 data-i18n="contactTitle" style="margin-top: 0;">Vamos conversar?</h3>
        <div style="margin-top: 20px;">
            <a href="https://mail.google.com/mail/?view=cm&fs=1&to=mateusdossantoscavalheiro@gmail.com" target="_blank" class="list-item">
                <i class="fa-solid fa-envelope"></i> <strong>Gmail</strong>
            </a>
            <a href="https://wa.me/5547991814413" target="_blank" class="list-item">
                <i class="fa-brands fa-whatsapp" style="color: #25D366;"></i> <strong>WhatsApp</strong>
            </a>
            <a href="https://www.linkedin.com/in/mateusdosscavalheiro/" target="_blank" class="list-item">
                <i class="fa-brands fa-linkedin" style="color: #0A66C2;"></i> <strong>LinkedIn</strong>
            </a>
            <a href="https://www.instagram.com/mattz_cavalheiro/" target="_blank" class="list-item">
                <i class="fa-brands fa-instagram" style="color: #E1306C;"></i> <strong>Instagram</strong>
            </a>
            <a href="https://github.com/mateusdossantoscavalheiro-sudo" target="_blank" class="list-item">
                <i class="fa-brands fa-github"></i> <strong>GitHub</strong>
            </a>
        </div>
    </div>
</div>

<div id="lang-modal" class="modal-overlay">
    <div class="modal-content" style="max-width: 400px;">
        <button class="close-modal" onclick="closeAllModals()"><i class="fa-solid fa-xmark"></i></button>
        <h3 data-i18n="langTitle" style="margin-top: 0;">Selecione o idioma</h3>
        <div style="display: flex; flex-direction: column; gap: 10px; margin-top: 20px;">
            <button class="opt-btn" onclick="changeLanguage('pt')"><span class="fi fi-br"></span> Português</button>
            <button class="opt-btn" onclick="changeLanguage('en')"><span class="fi fi-us"></span> English</button>
            <button class="opt-btn" onclick="changeLanguage('es')"><span class="fi fi-es"></span> Español</button>
            <button class="opt-btn" onclick="changeLanguage('de')"><span class="fi fi-de"></span> Deutsch</button>
        </div>
    </div>
</div>

<div id="project-modal" class="modal-overlay">
    <div class="modal-content">
        <button class="close-modal" onclick="closeAllModals()"><i class="fa-solid fa-xmark"></i></button>
        <div class="project-grid">
            <div class="project-left">
                <div class="miniature-display" id="modal-media"></div>
                <div style="margin-top: 15px; font-size: 0.8rem; opacity: 0.8; line-height: 1.6;">
                    <p style="margin: 5px 0;"><i class="fa-regular fa-calendar-days"></i> <strong id="label-date">Criado em:</strong> <span id="modal-date"></span></p>
                    <p style="margin: 5px 0;"><i class="fa-solid fa-check-double"></i> <strong id="label-status">Status:</strong> <span id="modal-status"></span></p>
                    <p style="margin: 5px 0;"><i class="fa-solid fa-laptop-code"></i> <strong id="label-platform">Plataforma:</strong> <span id="modal-platform"></span></p>
                </div>
            </div>
            <div style="width: 1px; background: rgba(128,128,128,0.2);"></div>
            <div class="project-right">
                <h2 id="modal-title" style="margin-top:0; color:var(--header-color);"></h2>
                <p id="modal-desc" style="font-size: 0.9rem; line-height: 1.6; opacity: 0.9;"></p>
                <div style="margin-top: 30px; border-top: 1px solid rgba(128,128,128,0.1); padding-top: 20px;">
                    <p id="label-action" style="font-size: 0.8rem; margin-bottom: 12px; opacity: 0.8;">Acesse o projeto:</p>
                    <div style="display: flex; gap: 10px;">
                        <a id="modal-github" href="#" target="_blank" class="opt-btn"><i class="fa-brands fa-github"></i> GITHUB</a>
                        <a id="modal-pdf" href="#" download class="opt-btn"><i class="fa-solid fa-file-pdf"></i> PDF</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div style="display: flex; flex-direction: column; width: 100%;">
    <header class="chat-header">
        <div class="header-left">
            <button class="menu-btn" onclick="toggleSidebar()"><i class="fa-solid fa-bars"></i> <span data-i18n="menu">Menu</span></button>
            <div class="logo-wrapper">
                <img src="./assets/logo/logo_pi.png" id="main-logo" alt="Logo">
            </div>
            <span data-i18n="headerTitle">Mateus | Product Designer & Dev</span>
        </div>
        <div class="header-right">
            <button class="header-icon-btn" onclick="openModal('contact-modal')"><i class="fa-solid fa-phone"></i> <span data-i18n="btnContact">Contato</span></button>
            <button class="header-icon-btn" onclick="openModal('lang-modal')"><i class="fa-solid fa-globe"></i></button>
            <button class="header-icon-btn" onclick="toggleTheme()"><i id="theme-icon" class="fa-solid fa-sun"></i></button>
        </div>
    </header>

    <div class="layout-wrapper">
        <aside class="sidebar collapsed" id="sidebar">
            <h4 style="opacity: 0.5; font-size: 0.7rem; letter-spacing: 2px; margin-bottom: 20px; margin-top: 0;" data-i18n="sidebarProjects">PROJETOS</h4>
            <div id="project-list"></div>
        </aside>

        <main class="chat-container">
            <div class="chat-box" id="chat-box">
            </div>
            <div class="options">
                <button class="opt-btn" onclick="ask('btnSkills')" data-i18n="btnSkills">Habilidades</button>
                <button class="opt-btn" onclick="toggleSidebar()" data-i18n="btnProjects">Projetos</button>
                <button class="opt-btn" onclick="openModal('contact-modal')" data-i18n="btnContact">Contato</button>
            </div>
        </main>
    </div>
</div>

<script>
    // --- DATABASE DE PROJETOS ---
    const projectsData = [
        {
            id: "motor",
            date: "Fev. 2026",
            statusKey: "statusComplete",
            icon: "fa-microchip",
            github: "https://github.com/mateusscavalheiro-afk/PROVA2_MONITORAMENTO_DE_MOTOR",
            pdf: "./assets/motor_monitoring/Engine_Monitoring_Project.pdf",
            media: { type: "image", src: "./assets/motor_monitoring/miniature_p1.png" },
            pt: { title: "Monitoramento de Motor", subtitle: "IoT & Integração", platform: "VSCode (C++) & IntelliJ (Java)", desc: "Desenvolvimento de um cibersistema para monitoramento de um motor no setor industrial. O projeto integra hardware (ESP32) e software (Java) utilizando protocolo MQTT para garantir a segurança operacional e a coleta de dados de telemetria em tempo real." },
            en: { title: "Engine Monitoring", subtitle: "IoT & Integration", platform: "VSCode (C++) & IntelliJ (Java)", desc: "Development of a cyber-physical system for industrial engine monitoring. The project integrates hardware (ESP32) and software (Java) using the MQTT protocol to ensure operational safety and real-time telemetry data collection." },
            es: { title: "Monitoreo de Motor", subtitle: "IoT e Integración", platform: "VSCode (C++) & IntelliJ (Java)", desc: "Desarrollo de un cibersistema para el monitoreo de un motor en el sector industrial. El proyecto integra hardware (ESP32) y software (Java) utilizando el protocolo MQTT para garantizar la segurança operativa y la recolección de datos de telemetría en tiempo real." },
            de: { title: "Motorüberwachung", subtitle: "IoT & Integration", platform: "VSCode (C++) & IntelliJ (Java)", desc: "Entwicklung eines cyber-physischen Systems zur industriellen Motorüberwachung. Das Projekt integriert Hardware (ESP32) und Software (Java) über das MQTT-Protokoll, um die Betriebssicherheit und die Erfassung von Telemetriedaten in Echtzeit zu gewährleisten." }
        }
    ];

    const uiStrings = {
        pt: { menu: "Menu", headerTitle: "Mateus | Product Designer & Dev", sidebarProjects: "PROJETOS", welcomeMsg: "Olá! Como posso te ajudar a conhecer melhor o trabalho do Mateus?", btnSkills: "Habilidades", btnProjects: "Projetos", btnContact: "Contato", langTitle: "Selecione o idioma", contactTitle: "Vamos conversar?", dateLabel: "Criado em:", statusLabel: "Status:", platformLabel: "Plataforma:", statusComplete: "Completo", actionLabel: "Acesse o projeto:", skillAnswer: "O Mateus foca em UI/UX Design e Desenvolvimento Frontend (React, HTML, CSS)." },
        en: { menu: "Menu", headerTitle: "Mateus | Designer & Dev", sidebarProjects: "PROJECTS", welcomeMsg: "Hi! How can I help you know more about Mateus' work?", btnSkills: "Skills", btnProjects: "Projects", btnContact: "Contact", langTitle: "Select language", contactTitle: "Let's talk?", dateLabel: "Created on:", statusLabel: "Status:", platformLabel: "Platform:", statusComplete: "Complete", actionLabel: "Access the project:", skillAnswer: "Mateus focuses on UI/UX Design and Frontend Development (React, HTML, CSS)." },
        es: { menu: "Menú", headerTitle: "Mateus | Designer & Dev", sidebarProjects: "PROYECTOS", welcomeMsg: "¡Hola! ¿Cómo puedo ayudarte a conocer el trabajo de Mateus?", btnSkills: "Habilidades", btnProjects: "Proyectos", btnContact: "Contacto", langTitle: "Seleccionar idioma", contactTitle: "¿Hablamos?", dateLabel: "Creado en:", statusLabel: "Estado:", platformLabel: "Plataforma:", statusComplete: "Completo", actionLabel: "Acceder al proyecto:", skillAnswer: "Mateus se enfoca en el diseño UI/UX y el desarrollo Frontend." },
        de: { menu: "Menü", headerTitle: "Mateus | Designer & Dev", sidebarProjects: "PROJEKTE", welcomeMsg: "Hallo! Wie kann ich Ihnen helfen, Mateus' Arbeit kennenzulernen?", btnSkills: "Fähigkeiten", btnProjects: "Projekte", btnContact: "Kontakt", langTitle: "Sprache auswählen", contactTitle: "Reden wir?", dateLabel: "Erstellt am:", statusLabel: "Status:", platformLabel: "Plattform:", statusComplete: "Vollständig", actionLabel: "Projekt aufrufen:", skillAnswer: "Mateus konzentriert sich auf UI/UX-Design und Frontend-Entwicklung." }
    };

    let currentLang = 'pt';

    // FUNÇÕES DE MEMÓRIA (Salvando apenas Idioma e Tema)
    function saveState() {
        localStorage.setItem('portfolio_lang', currentLang);
        localStorage.setItem('portfolio_theme', document.body.classList.contains('dark-mode') ? 'dark' : 'light');
    }

    function loadState() {
        const savedLang = localStorage.getItem('portfolio_lang');
        const savedTheme = localStorage.getItem('portfolio_theme');

        if (savedLang) currentLang = savedLang;
        if (savedTheme === 'light') {
            document.body.classList.remove('dark-mode');
            document.getElementById('theme-icon').className = "fa-solid fa-moon";
        } else {
            document.body.classList.add('dark-mode');
            document.getElementById('theme-icon').className = "fa-solid fa-sun";
        }

        updateUI();
        renderCards();

        const box = document.getElementById("chat-box");
        box.innerHTML = `<div class="message bot-msg">${uiStrings[currentLang].welcomeMsg}</div>`;
    }

    function updateUI() {
        document.querySelectorAll('[data-i18n]').forEach(el => {
            const key = el.getAttribute('data-i18n');
            el.innerText = uiStrings[currentLang][key];
        });
    }

    function renderCards() {
        const list = document.getElementById('project-list');
        list.innerHTML = "";
        projectsData.forEach(p => {
            list.innerHTML += `
                <div class="project-card" onclick="openProject('${p.id}')">
                    <div class="project-thumb-mini"><i class="fa-solid ${p.icon}"></i></div>
                    <div>
                        <strong style="font-size: 0.9rem;">${p[currentLang].title}</strong>
                        <div style="font-size: 0.75rem; opacity: 0.6;">${p[currentLang].subtitle}</div>
                    </div>
                </div>`;
        });
    }

    function openProject(id) {
        const p = projectsData.find(item => item.id === id);
        const lang = p[currentLang];
        const ui = uiStrings[currentLang];
        document.getElementById('modal-title').innerText = lang.title;
        document.getElementById('modal-desc').innerText = lang.desc;
        document.getElementById('modal-date').innerText = p.date;
        document.getElementById('modal-platform').innerText = lang.platform;
        document.getElementById('modal-status').innerText = ui[p.statusKey];
        document.getElementById('label-date').innerText = ui.dateLabel;
        document.getElementById('label-status').innerText = ui.statusLabel;
        document.getElementById('label-platform').innerText = ui.platformLabel;
        document.getElementById('label-action').innerText = ui.actionLabel;
        const mediaBox = document.getElementById('modal-media');
        mediaBox.innerHTML = p.media.type === "video"
            ? `<video autoplay muted loop playsinline><source src="${p.media.src}" type="video/mp4"></video>`
            : `<img src="${p.media.src}" onerror="this.src='https://via.placeholder.com/400x250?text=Preview+Indisponível'">`;
        document.getElementById('modal-github').href = p.github;
        document.getElementById('modal-pdf').href = `./${p.pdf}`;
        openModal('project-modal');
    }

    function ask(key) {
        const box = document.getElementById("chat-box");
        const u = document.createElement("div");
        u.className = "message user-msg";
        u.innerText = uiStrings[currentLang][key];
        box.appendChild(u);
        setTimeout(() => {
            const b = document.createElement("div");
            b.className = "message bot-msg";
            b.innerText = uiStrings[currentLang]['skillAnswer'];
            box.appendChild(b);
            box.scrollTop = box.scrollHeight;
        }, 600);
    }

    function changeLanguage(lang) {
        currentLang = lang;
        updateUI();
        renderCards();
        const box = document.getElementById("chat-box");
        box.innerHTML = `<div class="message bot-msg">${uiStrings[lang].welcomeMsg}</div>`;
        saveState();
        closeAllModals();
    }

    function toggleTheme() {
        document.body.classList.toggle('dark-mode');
        const isDark = document.body.classList.contains('dark-mode');
        document.getElementById('theme-icon').className = isDark ? "fa-solid fa-sun" : "fa-solid fa-moon";
        saveState();
    }

    function openModal(id) { document.getElementById(id).style.display = 'flex'; }
    function closeAllModals() { document.querySelectorAll('.modal-overlay').forEach(m => m.style.display='none'); }
    function toggleSidebar() { document.getElementById('sidebar').classList.toggle('collapsed'); }

    window.onload = loadState;
    window.onclick = e => { if(e.target.classList.contains('modal-overlay')) closeAllModals(); }
</script>
</body>
</html>